/*! Scrawler.js v1.1.1 | (c) 2016-2017 Chan Young Park | MIT License */ 
!function(e,r){"use strict";"function"==typeof define&&define.amd?define(Scrawler):"object"==typeof module&&module.exports?module.exports=r():e.Scrawler=r()}("undefined"!=typeof window?window:this,function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this;r.fps=e.fps||0,r.a=e.baseline.toString()||"center",r.baseline=t.calcBaseline(r.a),r.idling=parseInt(e.idling)||0,r.b="",r.c=[],r.d=null,r.e=0,r.g=0,r.h=!1,window.addEventListener("resize",r.refresh)}function r(){var e=this;n.call(e),e.idling<0||0===e.idling&&"stay"!==e.b||e.g<e.idling?(i.call(e),e.e=window.pageYOffset,e.d=window.requestAnimationFrame(r.bind(e))):e.d&&e.pause()}function n(e){var r=this;e?r.b="resizing":r.e===window.pageYOffset?"stay"===r.b?r.idling>=0&&r.g++:""===r.b?r.b="initialized":r.b="stay":(r.g=0,r.e<window.pageYOffset?r.b="down":r.b="up")}function i(){for(var e=this,r=0;r<e.c.length;r++)for(var n=e.c[r],i=0;i<n.units.length;i++){var t=n.units[i],a=t.el.getBoundingClientRect();t.progress.px=e.baseline.px-(a.top+t.baseline.px),t.progress.f=0===a.height?0:t.progress.px/a.height,n.range?n.range[0]<=t.progress[n.i]&&t.progress[n.i]<=n.range[1]?(t.j=n.range[0]===t.progress[n.i],t.k=n.range[1]===t.progress[n.i],n.callback.apply(t,n.callbackArgs)):t.progress[n.i]<n.range[0]?(t.k=!1,"px"===n.i?(t.progress.px=n.range[0],t.progress.f=0===a.height?0:t.progress.px/a.height):(t.progress.f=n.range[0],t.progress.px=a.height*t.progress.f),t.j||(t.j=!0,n.callback.apply(t,n.callbackArgs))):(t.j=!1,"px"===n.i?(t.progress.px=n.range[1],t.progress.f=0===a.height?0:t.progress.px/a.height):(t.progress.f=n.range[1],t.progress.px=a.height*t.progress.f),t.k||(t.k=!0,n.callback.apply(t,n.callbackArgs))):n.callback.apply(t,n.callbackArgs)}}e.prototype.add=function(r,n,i){var t=this;return r.id=r.id||"lid_"+t.c.length,t.c.push(new e.Logic(r,n,i)),t},e.prototype.remove=function(e){for(var r=this,n=0;n<r.c.length;n++)if(r.c[n].id===e)return r.c.splice(n,1),r;return r},e.prototype.sort=function(){var e=this;return e.c.sort(function(e,r){return e.order-r.order}),e},e.prototype.run=function(){var e=this;return e.h||(e.h=!0,window.addEventListener("scroll",e.run.bind(e))),e.d=window.requestAnimationFrame(r.bind(e)),e},e.prototype.pause=function(){var e=this;return window.cancelAnimationFrame(e.d),e.d=null,e},e.prototype.watch=function(){var e=this;return n.call(e),i.call(e),e.e=window.pageYOffset,e},e.prototype.refresh=function(e){var r=this;n.call(r,!0),r.baseline=t.calcBaseline(r.a);for(var a=0;a<r.c.length;a++)for(var s=r.c[a],o=0;o<s.units.length;o++){var l=s.units[o];l.baseline=t.calcBaseline(s.baseline,l.el)}return i(),r.e=window.pageYOffset,r};var t={};return t.calcBaseline=function(r,n){var i=new e.Position,t=n?n.getBoundingClientRect().height:window.innerHeight;switch(r){case"top":i.px=0,i.f=0;break;case"center":i.px=t/2,i.f=.5;break;case"bottom":i.px=t,i.f=1;break;default:var a=function(){i.px=parseFloat(r),i.f=r/t};"string"==typeof r?-1!==r.indexOf("%")?(i.f=parseFloat(r.replace("%",""))/100,i.px=t*i.f):-1!==r.indexOf("f")?(i.f=parseFloat(r.replace("f","")),i.px=t*i.f):a():a()}return i},e.Logic=function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=this;a.id=r.id,a.el=r.el,a.order=r.order||0,a.range=r.range||null,a.baseline=r.baseline||0,a.callback=n,a.callbackArgs=i,a.nodelist=document.querySelectorAll(r.el),a.units=[];for(var s=0;s<a.nodelist.length;s++)a.units[s]=new e.Unit({el:a.nodelist[s],baseline:t.calcBaseline(a.baseline,a.nodelist[s]),progress:new e.Position});a.i,a.range&&("string"==typeof a.range[1]?-1!==a.range[1].indexOf("%")?(a.range[0]=parseFloat(a.range[0].replace("%",""))/100,a.range[1]=parseFloat(a.range[1].replace("%",""))/100,a.i="f"):-1!==a.range[1].indexOf("f")?(a.range[0]=parseFloat(a.range[0].replace("f","")),a.range[1]=parseFloat(a.range[1].replace("f","")),a.i="f"):a.i="px":a.i="px")},e.Position=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.f=e.f||void 0,this.px=e.px||void 0},e.Unit=function(e){var r=this;r.el=e.el,r.baseline=e.baseline,r.progress=e.progress,r.j=!1,r.k=!1,r.scales=e.scales||{}},e.Unit.prototype.f=function(){return this.progress.f},e.Unit.prototype.px=function(){return this.progress.px},e.Unit.prototype.scale=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],t=this;e=e.toString(),r.to=r.to||[0,1],t.scales[e]=t.scales[e]||{j:!1,k:!1};var a=r.from[0],s=r.from[1],o=r.to[0],l=r.to[1],p=t.scales[e],c=void 0,g=void 0;"string"==typeof s?-1!==s.indexOf("%")?(a=parseFloat(a.replace("%",""))/100,s=parseFloat(s.replace("%",""))/100,c="f"):-1!==s.indexOf("f")?(a=parseFloat(a.replace("f","")),s=parseFloat(s.replace("f","")),c="f"):c="px":c="px";var f=t.progress[c];a<=f&&f<=s?(p.j=!1,p.k=!1,g=(f-a)/(s-a)*(l-o)+o,i.unshift(g),n.apply(t,i)):f<a?(p.k=!1,p.j||(p.j=!0,f=a,g=(f-a)/(s-a)*(l-o)+o,i.unshift(g),n.apply(t,i))):(p.j=!1,p.k||(p.k=!0,f=s,g=(f-a)/(s-a)*(l-o)+o,i.unshift(g),n.apply(t,i)))},e});