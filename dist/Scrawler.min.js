/*! Scrawler.js v0.2.1 | (c) 2016-2017 Chan Young Park | MIT License */ 
!function(e,r){"use strict";"function"==typeof define&&define.amd?define(Scrawler):"object"==typeof module&&module.exports?module.exports=r():e.Scrawler=r()}("undefined"!=typeof window?window:this,function(){"use strict";function e(e){i=this,e=e||{},i.fps=e.fps||0,i.a=e.baseline||"center",i.baseline=a.calcBaseline(i.a),i.idling=parseInt(e.idling)||0,i.b="",i.c=[],i.d=null,i.e=0,i.g=0,i.h=!1,window.addEventListener("resize",i.refresh)}function r(){n(),i.idling<0||0===i.idling&&"stay"!==i.b||i.g<i.idling?(t(),i.e=window.pageYOffset,i.d=window.requestAnimationFrame(r)):i.d&&i.pause()}function n(e){e?i.b="resizing":i.e===window.pageYOffset?"stay"===i.b?i.idling>=0&&i.g++:""===i.b?i.b="initialized":i.b="stay":(i.g=0,i.e<window.pageYOffset?i.b="down":i.b="up")}function t(){for(var e=0;e<i.c.length;e++)for(var r=i.c[e],n=0;n<r.units.length;n++){var t=r.units[n],a=t.el.getBoundingClientRect();t.progress.px=i.baseline.px-(a.top+t.baseline.px),t.progress.f=0===a.height?0:t.progress.px/a.height,r.range?r.range[0]<=t.progress[r.i]&&t.progress[r.i]<=r.range[1]?(t.j=r.range[0]===t.progress[r.i],t.k=r.range[1]===t.progress[r.i],r.callback.apply(t,r.callbackArgs)):t.progress[r.i]<r.range[0]?(t.k=!1,"px"===r.i?(t.progress.px=r.range[0],t.progress.f=0===a.height?0:t.progress.px/a.height):(t.progress.f=r.range[0],t.progress.px=a.height*t.progress.f),t.j||(t.j=!0,r.callback.apply(t,r.callbackArgs))):(t.j=!1,"px"===r.i?(t.progress.px=r.range[1],t.progress.f=0===a.height?0:t.progress.px/a.height):(t.progress.f=r.range[1],t.progress.px=a.height*t.progress.f),t.k||(t.k=!0,r.callback.apply(t,r.callbackArgs))):r.callback.apply(t,r.callbackArgs)}}var i=void 0;e.prototype.add=function(e,r,n){return e.id=e.id||"lid_"+i.c.length,i.c.push(new s(e,r,n)),i},e.prototype.remove=function(e){for(var r=0;r<i.c.length;r++)if(i.c[r].id===e)return i.c.splice(r,1),i;return i},e.prototype.sort=function(){return i.c.sort(function(e,r){return e.order-r.order}),i},e.prototype.run=function(){return i.h||(i.h=!0,window.addEventListener("scroll",i.run)),i.d=window.requestAnimationFrame(r),i},e.prototype.pause=function(){return window.cancelAnimationFrame(i.d),i.d=null,i},e.prototype.watch=function(){return n(),t(),i.e=window.pageYOffset,i},e.prototype.refresh=function(e){n(!0),i.baseline=a.calcBaseline(i.a);for(var r=0;r<i.c.length;r++)for(var s=i.c[r],o=0;o<s.units.length;o++){var p=s.units[o];p.baseline=a.calcBaseline(s.baseline,p.el)}return t(),i.e=window.pageYOffset,i};var a={};a.calcBaseline=function(e,r){var n=new o,t=r?r.getBoundingClientRect().height:window.innerHeight;switch(e){case"top":n.px=0,n.f=0;break;case"center":n.px=t/2,n.f=.5;break;case"bottom":n.px=t,n.f=1;break;default:var i=function(){n.px=parseFloat(e),n.f=e/t};"string"==typeof e&&-1!==e.indexOf("%")?(n.f=parseFloat(e.replace("%",""))/100,n.px=t*n.f):i()}return n};var s=function(e,r,n){var t=this;t.id=e.id,t.el=e.el,t.order=e.order||0,t.callback=r,t.callbackArgs=n||[],t.range=e.range||null,t.baseline=e.baseline||0,t.nodelist=document.querySelectorAll(e.el),t.units=[];for(var i=0;i<t.nodelist.length;i++)t.units[i]=new p({el:t.nodelist[i],baseline:a.calcBaseline(t.baseline,t.nodelist[i]),progress:new o});t.i,t.range&&("string"==typeof t.range[0]&&-1!==t.range[0].indexOf("%")?(t.range[0]=parseFloat(t.range[0].replace("%",""))/100,t.range[1]=parseFloat(t.range[1].replace("%",""))/100,t.i="f"):t.i="px")},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.f=e.f||void 0,this.px=e.px||void 0},p=function(e){var r=this;r.el=e.el,r.baseline=e.baseline,r.progress=e.progress,r.j=!1,r.k=!1,r.maps=e.maps||{}};return p.prototype.map=function(e,r,n,t){var i=this;e=e.toString(),r.to=r.to||[0,1],t=t||[],i.maps[e]=i.maps[e]||{j:!1,k:!1};var a,s,o=r.from[0],p=r.from[1],l=r.to[0],g=r.to[1];"string"!=typeof o||-1===o.indexOf("%")&&-1===o.indexOf("f")?a="px":(a="f",o=parseFloat(o.replace("%","").replace("f",""))/100,p=parseFloat(p.replace("%","").replace("f",""))/100);var c=i.progress[a],f=i.maps[e];o<=c&&c<=p?(f.j=!1,f.k=!1,s=(c-o)/(p-o)*(g-l)+l,t.unshift(s),n.apply(i,t)):c<o?(f.k=!1,f.j||(f.j=!0,c=o,s=(c-o)/(p-o)*(g-l)+l,t.unshift(s),n.apply(i,t))):(f.j=!1,f.k||(f.k=!0,c=p,s=(c-o)/(p-o)*(g-l)+l,t.unshift(s),n.apply(i,t)))},e});