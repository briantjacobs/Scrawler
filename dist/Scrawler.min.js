/*! Scrawler.js v0.3.0 | (c) 2016-2017 Chan Young Park | MIT License */ 
!function(e,r){"use strict";"function"==typeof define&&define.amd?define(Scrawler):"object"==typeof module&&module.exports?module.exports=r():e.Scrawler=r()}("undefined"!=typeof window?window:this,function(){"use strict";function e(e){i=this,e=e||{},i.fps=e.fps||0,i.a=e.baseline||"center",i.baseline=a.calcBaseline(i.a),i.idling=parseInt(e.idling)||0,i.b="",i.c=[],i.d=null,i.e=0,i.g=0,i.h=!1,window.addEventListener("resize",i.refresh)}function r(){n(),i.idling<0||0===i.idling&&"stay"!==i.b||i.g<i.idling?(t(),i.e=window.pageYOffset,i.d=window.requestAnimationFrame(r)):i.d&&i.pause()}function n(e){e?i.b="resizing":i.e===window.pageYOffset?"stay"===i.b?i.idling>=0&&i.g++:""===i.b?i.b="initialized":i.b="stay":(i.g=0,i.e<window.pageYOffset?i.b="down":i.b="up")}function t(){for(var e=0;e<i.c.length;e++)for(var r=i.c[e],n=0;n<r.units.length;n++){var t=r.units[n],a=t.el.getBoundingClientRect();t.progress.px=i.baseline.px-(a.top+t.baseline.px),t.progress.f=0===a.height?0:t.progress.px/a.height,r.range?r.range[0]<=t.progress[r.i]&&t.progress[r.i]<=r.range[1]?(t.j=r.range[0]===t.progress[r.i],t.k=r.range[1]===t.progress[r.i],r.callback.apply(t,r.callbackArgs)):t.progress[r.i]<r.range[0]?(t.k=!1,"px"===r.i?(t.progress.px=r.range[0],t.progress.f=0===a.height?0:t.progress.px/a.height):(t.progress.f=r.range[0],t.progress.px=a.height*t.progress.f),t.j||(t.j=!0,r.callback.apply(t,r.callbackArgs))):(t.j=!1,"px"===r.i?(t.progress.px=r.range[1],t.progress.f=0===a.height?0:t.progress.px/a.height):(t.progress.f=r.range[1],t.progress.px=a.height*t.progress.f),t.k||(t.k=!0,r.callback.apply(t,r.callbackArgs))):r.callback.apply(t,r.callbackArgs)}}var i=void 0;e.prototype.add=function(r,n,t){return r.id=r.id||"lid_"+i.c.length,i.c.push(new e.Logic(r,n,t)),i},e.prototype.remove=function(e){for(var r=0;r<i.c.length;r++)if(i.c[r].id===e)return i.c.splice(r,1),i;return i},e.prototype.sort=function(){return i.c.sort(function(e,r){return e.order-r.order}),i},e.prototype.run=function(){return i.h||(i.h=!0,window.addEventListener("scroll",i.run)),i.d=window.requestAnimationFrame(r),i},e.prototype.pause=function(){return window.cancelAnimationFrame(i.d),i.d=null,i},e.prototype.watch=function(){return n(),t(),i.e=window.pageYOffset,i},e.prototype.refresh=function(e){n(!0),i.baseline=a.calcBaseline(i.a);for(var r=0;r<i.c.length;r++)for(var s=i.c[r],o=0;o<s.units.length;o++){var p=s.units[o];p.baseline=a.calcBaseline(s.baseline,p.el)}return t(),i.e=window.pageYOffset,i};var a={};return a.calcBaseline=function(r,n){var t=new e.Position,i=n?n.getBoundingClientRect().height:window.innerHeight;switch(r){case"top":t.px=0,t.f=0;break;case"center":t.px=i/2,t.f=.5;break;case"bottom":t.px=i,t.f=1;break;default:var a=function(){t.px=parseFloat(r),t.f=r/i};"string"==typeof r?-1!==r.indexOf("%")?(t.f=parseFloat(r.replace("%",""))/100,t.px=i*t.f):-1!==r.indexOf("f")?(t.f=parseFloat(r.replace("f","")),t.px=i*t.f):a():a()}return t},e.Logic=function(r,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this;i.id=r.id,i.el=r.el,i.order=r.order||0,i.range=r.range||null,i.baseline=r.baseline||0,i.callback=n,i.callbackArgs=t,i.nodelist=document.querySelectorAll(r.el),i.units=[];for(var s=0;s<i.nodelist.length;s++)i.units[s]=new e.Unit({el:i.nodelist[s],baseline:a.calcBaseline(i.baseline,i.nodelist[s]),progress:new e.Position});i.i,i.range&&("string"==typeof i.range[1]?-1!==i.range[1].indexOf("%")?(i.range[0]=parseFloat(i.range[0].replace("%",""))/100,i.range[1]=parseFloat(i.range[1].replace("%",""))/100,i.i="f"):-1!==i.range[1].indexOf("f")?(i.range[0]=parseFloat(i.range[0].replace("f","")),i.range[1]=parseFloat(i.range[1].replace("f","")),i.i="f"):i.i="px":i.i="px")},e.Position=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.f=e.f||void 0,this.px=e.px||void 0},e.Unit=function(e){var r=this;r.el=e.el,r.baseline=e.baseline,r.progress=e.progress,r.j=!1,r.k=!1,r.scales=e.scales||{}},e.Unit.prototype.f=function(){return this.progress.f},e.Unit.prototype.px=function(){return this.progress.px},e.Unit.prototype.scale=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this;e=e.toString(),r.to=r.to||[0,1],i.scales[e]=i.scales[e]||{j:!1,k:!1};var a=r.from[0],s=r.from[1],o=r.to[0],p=r.to[1],l=i.scales[e],c=void 0,g=void 0;"string"==typeof s?-1!==s.indexOf("%")?(a=parseFloat(a.replace("%",""))/100,s=parseFloat(s.replace("%",""))/100,c="f"):-1!==s.indexOf("f")?(a=parseFloat(a.replace("f","")),s=parseFloat(s.replace("f","")),c="f"):c="px":c="px";var f=i.progress[c];a<=f&&f<=s?(l.j=!1,l.k=!1,g=(f-a)/(s-a)*(p-o)+o,t.unshift(g),n.apply(i,t)):f<a?(l.k=!1,l.j||(l.j=!0,f=a,g=(f-a)/(s-a)*(p-o)+o,t.unshift(g),n.apply(i,t))):(l.j=!1,l.k||(l.k=!0,f=s,g=(f-a)/(s-a)*(p-o)+o,t.unshift(g),n.apply(i,t)))},e});