/*! Scrawler.js v0.3.0 | (c) 2016-2017 Chan Young Park | MIT License */ 
!function(e,r){"use strict";"function"==typeof define&&define.amd?define(Scrawler):"object"==typeof module&&module.exports?module.exports=r():e.Scrawler=r()}("undefined"!=typeof window?window:this,function(){"use strict";function e(e){o=this,e=e||{},o.fps=e.fps||0,o.a=e.baseline||"center",o.baseline=p.calcBaseline(o.a),o.idling=parseInt(e.idling)||0,o.b="",o.c=[],o.d=null,o.e=0,o.g=0,o.h=!1,window.addEventListener("resize",o.refresh)}function r(){n(),o.idling<0||0===o.idling&&"stay"!==o.b||o.g<o.idling?(t(),o.e=window.pageYOffset,o.d=window.requestAnimationFrame(r)):o.d&&o.pause()}function n(e){e?o.b="resizing":o.e===window.pageYOffset?"stay"===o.b?o.idling>=0&&o.g++:""===o.b?o.b="initialized":o.b="stay":(o.g=0,o.e<window.pageYOffset?o.b="down":o.b="up")}function t(){for(var e=0;e<o.c.length;e++)for(var r=o.c[e],n=0;n<r.units.length;n++){var t=r.units[n],i=t.el.getBoundingClientRect();t.progress.px=o.baseline.px-(i.top+t.baseline.px),t.progress.f=0===i.height?0:t.progress.px/i.height,r.range?r.range[0]<=t.progress[r.i]&&t.progress[r.i]<=r.range[1]?(t.j=r.range[0]===t.progress[r.i],t.k=r.range[1]===t.progress[r.i],r.callback.apply(t,r.callbackArgs)):t.progress[r.i]<r.range[0]?(t.k=!1,"px"===r.i?(t.progress.px=r.range[0],t.progress.f=0===i.height?0:t.progress.px/i.height):(t.progress.f=r.range[0],t.progress.px=i.height*t.progress.f),t.j||(t.j=!0,r.callback.apply(t,r.callbackArgs))):(t.j=!1,"px"===r.i?(t.progress.px=r.range[1],t.progress.f=0===i.height?0:t.progress.px/i.height):(t.progress.f=r.range[1],t.progress.px=i.height*t.progress.f),t.k||(t.k=!0,r.callback.apply(t,r.callbackArgs))):r.callback.apply(t,r.callbackArgs)}}function i(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=this;t.id=e.id,t.el=e.el,t.order=e.order||0,t.range=e.range||null,t.baseline=e.baseline||0,t.callback=r,t.callbackArgs=n,t.nodelist=document.querySelectorAll(e.el),t.units=[];for(var i=0;i<t.nodelist.length;i++)t.units[i]=new s({el:t.nodelist[i],baseline:p.calcBaseline(t.baseline,t.nodelist[i]),progress:new a});t.i,t.range&&("string"==typeof t.range[0]&&-1!==t.range[0].indexOf("%")?(t.range[0]=parseFloat(t.range[0].replace("%",""))/100,t.range[1]=parseFloat(t.range[1].replace("%",""))/100,t.i="f"):t.i="px")}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.f=e.f||void 0,this.px=e.px||void 0}function s(e){var r=this;r.el=e.el,r.baseline=e.baseline,r.progress=e.progress,r.j=!1,r.k=!1,r.maps=e.maps||{}}var o=void 0;e.prototype.add=function(e,r,n){return e.id=e.id||"lid_"+o.c.length,o.c.push(new i(e,r,n)),o},e.prototype.remove=function(e){for(var r=0;r<o.c.length;r++)if(o.c[r].id===e)return o.c.splice(r,1),o;return o},e.prototype.sort=function(){return o.c.sort(function(e,r){return e.order-r.order}),o},e.prototype.run=function(){return o.h||(o.h=!0,window.addEventListener("scroll",o.run)),o.d=window.requestAnimationFrame(r),o},e.prototype.pause=function(){return window.cancelAnimationFrame(o.d),o.d=null,o},e.prototype.watch=function(){return n(),t(),o.e=window.pageYOffset,o},e.prototype.refresh=function(e){n(!0),o.baseline=p.calcBaseline(o.a);for(var r=0;r<o.c.length;r++)for(var i=o.c[r],a=0;a<i.units.length;a++){var s=i.units[a];s.baseline=p.calcBaseline(i.baseline,s.el)}return t(),o.e=window.pageYOffset,o};var p={};return p.calcBaseline=function(e,r){var n=new a,t=r?r.getBoundingClientRect().height:window.innerHeight;switch(e){case"top":n.px=0,n.f=0;break;case"center":n.px=t/2,n.f=.5;break;case"bottom":n.px=t,n.f=1;break;default:var i=function(){n.px=parseFloat(e),n.f=e/t};"string"==typeof e&&-1!==e.indexOf("%")?(n.f=parseFloat(e.replace("%",""))/100,n.px=t*n.f):i()}return n},s.prototype.f=function(){return this.progress.f},s.prototype.px=function(){return this.progress.px},s.prototype.map=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this;e=e.toString(),r.to=r.to||[0,1],i.maps[e]=i.maps[e]||{j:!1,k:!1};var a=r.from[0],s=r.from[1],o=r.to[0],p=r.to[1],l=i.maps[e],g=void 0,c=void 0;"string"!=typeof a||-1===a.indexOf("%")&&-1===a.indexOf("f")?g="px":(g="f",a=parseFloat(a.replace("%","").replace("f",""))/100,s=parseFloat(s.replace("%","").replace("f",""))/100);var f=i.progress[g];a<=f&&f<=s?(l.j=!1,l.k=!1,c=(f-a)/(s-a)*(p-o)+o,t.unshift(c),n.apply(i,t)):f<a?(l.k=!1,l.j||(l.j=!0,f=a,c=(f-a)/(s-a)*(p-o)+o,t.unshift(c),n.apply(i,t))):(l.j=!1,l.k||(l.k=!0,f=s,c=(f-a)/(s-a)*(p-o)+o,t.unshift(c),n.apply(i,t)))},e});